# 注定失败

2022.2.11

长久以来，我渴望着品尝现代prolog的滋味，在这一天的下午四点，我开始尝试安装scryer-prolog。它是一个Warren's Abstract Machine的rust版，而且立志要成为如同GHC之于haskell的事实标准。

rust环境是不久前在我的win10上新装的，但是上完厕所回来看cargo install的结果却不尽如人意 -- 忘记装msvc了啊啊啊啊啊啊

官网的Visual C++ build tools太难找，没奈何下载了个VS 2022.

重新上路已经是一小时之后，唉唉唉。我又一次在终端敲下安装命令。

这次是openssl编译不过......需要一个perl执行编译脚本。关闭powershell，切换git bash。

不行，git bash这个perl目录分隔符不是windows风格的......下，他妈的再下，弄了个Strawberry Perl来，安装包100多M，真见鬼。

还是不行，改下debug level再看看，找不到文件啊。想起来了，我还没装openssl，在网上找到某位的博客

https://dotblogs.com.tw/explooosion/2018/07/26/040927

感谢这位海峡另一边的工程师，但是照他的还是不成啊

最后一搏，打开官方文档

https://docs.rs/openssl/0.10.29/openssl/

从报错中发现有几个环境变量未设置，一看文档，不设置的话编译时不会用系统安装的openssl，而是会自己编译。干！怪不得前面会需要perl运行什么编译脚本！

powershell下这样设置环境变量

```powershell
$env:OPENSSL_NO_VENDOR = 1
```

好，这次没任何理由不好了，我长舒一口闷气，去做饭了。

哈哈，gmp-mpfr抗议了，再读报错......啊原来它不支持msvc。

**它不支持msvc。**

我花了三个小时做什么？

出演21世纪版等待戈多吗？

我吃吃地欢笑起来，多么荒诞啊，生活就是因为这样才叫人着迷。热泪轻轻抚过我的脸颊，暖暖的，像无翼滑行的恒温蠕虫。

一口咽下旧搪瓷缸中的伏特加，我输入了最后一行命令：

```shell
rustup self uninstall
```

玻璃瓶里剩下的伏特加全送给了这台旧笔记本，45分钟之后，邻居和闻讯前来的火警看见了坐在桌前为生活干杯的我，还有那台燃烧的几乎看不出模样的老旧ThinkPad。他们的关切和同情让我感动得说不出话来，只会一个劲地边流着泪边笑，那就是我在这个春节中感到最有人情味的时刻。

> 好吧，实际上没有发生这些事。伏特加基本还在，我安装了msys2，重新折腾了一下，这次死在一个包装POSIX的包没有模块上，大概因为用msys2的缘故吧。