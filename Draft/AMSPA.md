# Anders Møller静态分析讲义笔记

## 1.简介

### 1.1 静态程序分析应用

### 1.2 近似的答案

### 1.3 程序正确性不可判定

## 2.一个小体量的命令式语言

### 2.1 语法

### 2.2 示例程序

### 2.3 标准形式

### 2.4 抽象语法树

### 2.5 控制流图

## 3.类型分析

## 4.格理论

### 4.1 示例：正负号分析

### 4.2 格

首先要介绍偏序集，偏序集**S**上有一个二元关系`<=`, 这个关系满足

+ 自反性，对于任意`x <- S`, 有 `x <= x`
+ 传递性，对于任意`x, y, z <- S`, 可以从`x <= y && y <= z`推出`x <= z`
+ 反对称性，对于任意`x, y <- S`, 可以从`x <= y && y <= x`推出`x = y`

在静态分析这边，`x <= y`可以看成"y是x的一个安全近似"。

取一个`S`的子集`X`, 假如对于任意`x <- X`有`x <= y`, 那么`y`就是`X`的上界(*upper bound*), 此外如果在`X`的上界中`y`是最小的，那它就是最小上界(*A least upper bound*).

在这个基础上可以提出两种操作，`join`和`meet`

+ `join x y`等于取集合`{x, y}`的最小上界
+ `meet x y`等于取集合`{x, y}`的最大下界

终于可以提出格(*lattice*)的概念了：格是一个偏序集，并且每两个元素之间都支持`join`和`meet`运算。

在此基础之上又可以提出完全格(*complete lattice*)的概念，一个完全格`S`的每个子集`X`都存在最小上界与最大下界！程序分析中会遇到的格大多都是完全格。

完全格的最大值被叫做*top*, 最小值则叫做*bottom*。

一个格的高度是top到bottom的最大路径长度。

### 4.3 构造格

全是各种证明，略过

### 4.4 等式、单调性与不动点

